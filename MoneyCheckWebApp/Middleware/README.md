# Декларации

**Программное Обеспечение Промежуточного Слоя = ПОПС**

# Документация к ПОПС по токену

Клиент при доступе к методам API, расположенных в категории `api` должен предоставить токен в ссылке. **Пример:**

```
checkmoney.ru/api/{METHOD_ROUTE}?token={API_KEY}
```

Если токен не указан или он не действительный, тогда сервер вернет `HTTP 401 Error`.

Данное ПОПС предоставляет интерфейс из контроллера для получения объекта класса `User` пользователя, который делал запрос.

Использование:

```cs
var user =  this.ExtractUser();
```

Если пользователь был не авторизован или в его авторизации не было причины, то при вызове этого метода вызовется `InvalidOperationException`. [Подробнее](../Extensions/ControllerExtractingExtension.cs)

